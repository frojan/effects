{"version":3,"sources":["webpack:///static/js/1.6d7e9a937dd987648154.js","webpack:///./src/pages/game/nodeAni/main.ts","webpack:///./src/pages/game/nodeAni/Circle.ts"],"names":["webpackJsonp","25","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__Circle__","App","this","arrs","renderer","PIXI","CanvasRenderer","SCREEN_WIDTH","SCREEN_HEIGHT","antialias","transparent","resolution","document","querySelector","appendChild","view","stage","Container","lineGraph","Graphics","addChild","creatCircles","enterFrame","prototype","circle","filter","filters","BlurFilter","blur","i","NUM","Math","random","width","height","push","requestAnimationFrame","bind","update","clear","j_1","connectCircle","render","c1","c2","dx","x","dy","y","dist","sqrt","minDist","lineStyle","moveTo","lineTo","ax","springAmount","ay","vx","vy","documentElement","clientWidth","clientHeight","30","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","create","Circle","_super","radius","_this","call","beginFill","drawCircle","endFill"],"mappings":"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","file":"static/js/1.6d7e9a937dd987648154.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 25:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Circle__ = __webpack_require__(30);\n\r\nvar App = (function () {\r\n    function App() {\r\n        this.arrs = [];\r\n        // this.renderer = PIXI.autoDetectRenderer(App.SCREEN_WIDTH, App.SCREEN_HEIGHT, \r\n        // {\r\n        //     antialias: true, \r\n        //     transparent: false, \r\n        //     resolution: 1\r\n        // });\r\n        this.renderer = new PIXI.CanvasRenderer(App.SCREEN_WIDTH, App.SCREEN_HEIGHT, {\r\n            antialias: true,\r\n            transparent: false,\r\n            resolution: 1\r\n        });\r\n        var gameArea = document.querySelector('.game-area');\r\n        gameArea.appendChild(this.renderer.view);\r\n        this.stage = new PIXI.Container();\r\n        this.lineGraph = new PIXI.Graphics();\r\n        this.stage.addChild(this.lineGraph);\r\n        this.creatCircles();\r\n        this.enterFrame();\r\n    }\r\n    App.prototype.creatCircles = function () {\r\n        var circle;\r\n        var filter = new PIXI.filters.BlurFilter();\r\n        filter.blur = 3;\r\n        for (var i = 0; i < App.NUM; i++) {\r\n            circle = new __WEBPACK_IMPORTED_MODULE_0__Circle__[\"a\" /* default */](Math.random() * this.renderer.width, Math.random() * this.renderer.height, 5);\r\n            circle.filters = [filter];\r\n            this.arrs.push(circle);\r\n            this.stage.addChild(circle);\r\n        }\r\n    };\r\n    App.prototype.enterFrame = function () {\r\n        requestAnimationFrame(this.enterFrame.bind(this));\r\n        var i;\r\n        var j;\r\n        for (i = 0; i < App.NUM; i++) {\r\n            // if(this.arrs[i].vx>9) this.arrs[i].vx = 9\r\n            // if(this.arrs[i].vx<-9) this.arrs[i].vx = -9\r\n            // if(this.arrs[i].vy>9) this.arrs[i].vy = 9\r\n            // if(this.arrs[i].vy<-9) this.arrs[i].vy = -9\r\n            this.arrs[i].update();\r\n        }\r\n        this.lineGraph.clear();\r\n        for (i = 0; i < App.NUM - 1; i++) {\r\n            for (var j_1 = i + 1; j_1 < App.NUM; j_1++) {\r\n                this.connectCircle(this.arrs[i], this.arrs[j_1]);\r\n            }\r\n        }\r\n        this.renderer.render(this.stage);\r\n    };\r\n    App.prototype.connectCircle = function (c1, c2) {\r\n        var dx = c1.x - c2.x;\r\n        var dy = c1.y - c2.y;\r\n        var dist = Math.sqrt(dx * dx + dy * dy);\r\n        //If the distance between 2 nodes are smaller than minimum, connect them\r\n        if (dist < App.minDist) {\r\n            this.lineGraph.lineStyle(1, 0xFFFFFF, dist / App.minDist);\r\n            this.lineGraph.moveTo(c1.x, c1.y);\r\n            this.lineGraph.lineTo(c2.x, c2.y);\r\n            var ax = dx * App.springAmount;\r\n            var ay = dy * App.springAmount;\r\n            // 控制相吸\r\n            c2.vx += ax;\r\n            c2.vy += ay;\r\n            c1.vx -= ax;\r\n            c1.vy -= ay;\r\n            // 控制相斥\r\n            // c2.vx -= ax;\r\n            // c2.vy -= ay;\r\n            // c1.vx += ax;\r\n            // c1.vy += ay;\r\n        }\r\n    };\r\n    App.NUM = 35;\r\n    App.SCREEN_WIDTH = document.documentElement.clientWidth;\r\n    App.SCREEN_HEIGHT = document.documentElement.clientHeight;\r\n    App.minDist = 100;\r\n    App.springAmount = 0.001;\r\n    return App;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (App);\r\n\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar Circle = (function (_super) {\r\n    __extends(Circle, _super);\r\n    function Circle(x, y, radius) {\r\n        var _this = _super.call(this) || this;\r\n        _this.vx = Math.random() * 6 - 3;\r\n        _this.vy = Math.random() * 6 - 3;\r\n        _this.beginFill(0xffffff * Math.random());\r\n        _this.drawCircle(0, 0, radius);\r\n        _this.endFill();\r\n        _this.x = x;\r\n        _this.y = y;\r\n        return _this;\r\n    }\r\n    Circle.prototype.update = function () {\r\n        this.x += this.vx;\r\n        this.y += this.vy;\r\n        if (this.x > Circle.SCREEN_WIDTH) {\r\n            this.x = 0;\r\n        }\r\n        else if (this.x < 0) {\r\n            this.x = Circle.SCREEN_WIDTH;\r\n        }\r\n        if (this.y > Circle.SCREEN_HEIGHT) {\r\n            this.y = 0;\r\n        }\r\n        else if (this.y < 0) {\r\n            this.y = Circle.SCREEN_HEIGHT;\r\n        }\r\n        // if (this.x > Circle.SCREEN_WIDTH) {\r\n        //     this.vx = -Math.abs(this.vx)\r\n        // } else if (this.x < 0) {\r\n        //     this.vx = Math.abs(this.vx)\r\n        // }\r\n        // if (this.y > Circle.SCREEN_HEIGHT) {\r\n        //     this.vy = -Math.abs(this.vy)\r\n        // } else if (this.y < 0) {\r\n        //     this.vy = Math.abs(this.vy)\r\n        // }\r\n    };\r\n    Circle.SCREEN_WIDTH = document.documentElement.clientWidth;\r\n    Circle.SCREEN_HEIGHT = document.documentElement.clientHeight;\r\n    return Circle;\r\n}(PIXI.Graphics));\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Circle);\r\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/1.6d7e9a937dd987648154.js","import Circle from './Circle'\nclass App{\n    private static NUM = 35\n    private static SCREEN_WIDTH = document.documentElement.clientWidth\n    private static SCREEN_HEIGHT = document.documentElement.clientHeight\n    private static minDist = 100\n    private static springAmount = 0.001\n\n    private renderer: PIXI.WebGLRenderer | PIXI.CanvasRenderer\n    private stage: PIXI.Container\n    private arrs: Circle[] = []\n    private lineGraph: PIXI.Graphics\n    constructor () {\n        // this.renderer = PIXI.autoDetectRenderer(App.SCREEN_WIDTH, App.SCREEN_HEIGHT, \n        // {\n        //     antialias: true, \n        //     transparent: false, \n        //     resolution: 1\n        // });\n        this.renderer = new PIXI.CanvasRenderer(App.SCREEN_WIDTH, App.SCREEN_HEIGHT, \n        {\n            antialias: true, \n            transparent: false, \n            resolution: 1\n        })\n        let gameArea: any = document.querySelector('.game-area')\n        gameArea.appendChild(this.renderer.view)\n        this.stage = new PIXI.Container();\n\n        this.lineGraph = new PIXI.Graphics()\n        this.stage.addChild(this.lineGraph)\n        this.creatCircles()\n\n        this.enterFrame()\n    }\n    creatCircles(){\n        let circle\n        let filter = new PIXI.filters.BlurFilter()\n        filter.blur = 3\n        for(let i = 0; i < App.NUM; i++){\n            circle = new Circle(Math.random() * this.renderer.width, Math.random() * this.renderer.height, 5)\n            circle.filters = [filter]\n            this.arrs.push(circle)\n            this.stage.addChild(circle)\n        }\n    }\n    enterFrame () {\n        requestAnimationFrame(this.enterFrame.bind(this));\n        let i\n        let j\n        for(i = 0; i < App.NUM; i++){\n            // if(this.arrs[i].vx>9) this.arrs[i].vx = 9\n            // if(this.arrs[i].vx<-9) this.arrs[i].vx = -9\n            // if(this.arrs[i].vy>9) this.arrs[i].vy = 9\n            // if(this.arrs[i].vy<-9) this.arrs[i].vy = -9\n            this.arrs[i].update()\n        }\n        this.lineGraph.clear()\n        for(i = 0; i < App.NUM-1; i++){\n            for(let j = i + 1; j < App.NUM; j++){\n                this.connectCircle(this.arrs[i], this.arrs[j])\n            }\n        }\n        this.renderer.render(this.stage);\n    }\n    connectCircle(c1:Circle, c2:Circle){\n        let dx = c1.x - c2.x;\n        let dy = c1.y - c2.y;\n        let dist = Math.sqrt(dx*dx + dy*dy);\n        \n        //If the distance between 2 nodes are smaller than minimum, connect them\n        if (dist < App.minDist) {\n            this.lineGraph.lineStyle(1, 0xFFFFFF, dist/App.minDist);\n            this.lineGraph.moveTo(c1.x, c1.y);\n            this.lineGraph.lineTo(c2.x, c2.y);\n            var ax = dx * App.springAmount;\n            var ay = dy * App.springAmount;\n            // 控制相吸\n            c2.vx += ax;\n            c2.vy += ay;\n            c1.vx -= ax;\n            c1.vy -= ay;\n            // 控制相斥\n            // c2.vx -= ax;\n            // c2.vy -= ay;\n            // c1.vx += ax;\n            // c1.vy += ay;\n        }\n    }\n}\n\nexport default App\n\n\n// WEBPACK FOOTER //\n// ./src/pages/game/nodeAni/main.ts","class Circle extends PIXI.Graphics{\n    public vx:number = Math.random()*6-3\n    public vy:number = Math.random()*6-3\n    private static SCREEN_WIDTH = document.documentElement.clientWidth\n    private static SCREEN_HEIGHT = document.documentElement.clientHeight\n    constructor(x: number, y: number, radius: number){\n        super()\n        this.beginFill(0xffffff * Math.random());\n        this.drawCircle(0, 0, radius);\n        this.endFill();\n        this.x = x;\n        this.y = y;\n    }\n    update(){\n        this.x += this.vx\n        this.y += this.vy\n\n        if (this.x > Circle.SCREEN_WIDTH) {\n            this.x = 0;\n        } else if (this.x < 0) {\n            this.x = Circle.SCREEN_WIDTH;\n        }\n        if (this.y > Circle.SCREEN_HEIGHT) {\n            this.y = 0;\n        } else if (this.y < 0) {\n            this.y = Circle.SCREEN_HEIGHT;\n        }\n        // if (this.x > Circle.SCREEN_WIDTH) {\n        //     this.vx = -Math.abs(this.vx)\n        // } else if (this.x < 0) {\n        //     this.vx = Math.abs(this.vx)\n        // }\n        // if (this.y > Circle.SCREEN_HEIGHT) {\n        //     this.vy = -Math.abs(this.vy)\n        // } else if (this.y < 0) {\n        //     this.vy = Math.abs(this.vy)\n        // }\n    }\n}\n\nexport default Circle\n\n\n// WEBPACK FOOTER //\n// ./src/pages/game/nodeAni/Circle.ts"],"sourceRoot":""}