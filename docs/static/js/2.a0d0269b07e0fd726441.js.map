{"version":3,"sources":["webpack:///./src/pages/game/fallGame/main.ts","webpack:///./src/pages/game/fallGame/Food.ts"],"names":[],"mappings":"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","file":"static/js/2.a0d0269b07e0fd726441.js","sourcesContent":["import * as PIXI from 'pixi.js'\nimport Food from './Food'\nclass App{\n    private static NUM = 20\n    private static SCREEN_WIDTH = document.documentElement.clientWidth\n    private static SCREEN_HEIGHT = document.documentElement.clientHeight\n\n    private renderer: PIXI.WebGLRenderer | PIXI.CanvasRenderer\n    private stage: PIXI.Container\n\n    private foods: Food[] = []\n    private basket: PIXI.Graphics\n    private mouseX: number = 0\n    private score: number = 0\n    private numCatch: number = 0\n    private numMiss: number = 0\n\n    private scorePanel: PIXI.Text\n\n    constructor () {\n        this.renderer = PIXI.autoDetectRenderer(App.SCREEN_WIDTH, App.SCREEN_HEIGHT, \n        {\n            antialias: true, \n            transparent: false, \n            resolution: 1\n        })\n        let gameArea: any = document.querySelector('.game-area')\n        gameArea.appendChild(this.renderer.view)\n        this.stage = new PIXI.Container()\n\n        this.creatFoods()\n        this.initBasket()\n        this.initPanel()\n        this.enterFrame()\n    }\n    creatFoods () {\n        let food\n        for(let i = 0; i<App.NUM; i++){\n            food = new Food()\n            this.foods.push(food)\n            this.stage.addChild(food)\n        }\n    }\n    initBasket () {\n        this.basket = new PIXI.Graphics()\n        this.basket.beginFill(0xffffff)\n        this.basket.drawRect(0, 0, 50, 20)\n        this.basket.endFill()\n        this.basket.x = 0\n        this.basket.y = App.SCREEN_HEIGHT - this.basket.height/2\n        this.basket.pivot.x = this.basket.width / 2\n        this.basket.pivot.y = this.basket.height / 2\n\n        this.stage.addChild(this.basket)\n\n        this.basket.interactive = true\n        this.basket.on('pointermove', this.onMove.bind(this))\n    }\n    onMove (event: any) {\n        this.mouseX = event.data.global.x\n    }\n    initPanel () {\n        this.scorePanel = new PIXI.Text(`分数：${this.score}`, {\n            fontFamily: \"Arial\",\n            fontSize: 20,\n            fill: \"white\"\n        })\n        this.scorePanel.x = 0\n        this.scorePanel.y = 0\n        this.stage.addChild(this.scorePanel)\n    }\n    scoreUpdate () {\n        this.scorePanel.text = `score: ${this.score}\\ncatch: ${this.numCatch}\\nmiss: ${this.numMiss}`\n    }\n    enterFrame () {\n        requestAnimationFrame(this.enterFrame.bind(this));\n\n        this.basket.x = Math.max(Math.min(this.mouseX, App.SCREEN_WIDTH-this.basket.width/2), this.basket.width/2)\n\n        for(let i = 0; i < App.NUM; i++ ){\n            this.foods[i].update()\n            if(this.hitTestRectangle(this.foods[i], this.basket)){\n                this.numCatch++\n                this.score += this.foods[i].score\n                this.foods[i].init()\n            }else if(this.foods[i].y >= App.SCREEN_HEIGHT+this.foods[i].height/2){\n                this.numMiss++\n                this.foods[i].init()\n            }\n        }\n        this.scoreUpdate()\n        this.renderer.render(this.stage)\n    }\n\n    hitTestRectangle (c1: PIXI.Container, c2: PIXI.Container) {\n        var hit, combinedHalfWidths, combinedHalfHeights, vx, vy\n        hit = false\n        vx = c1.x - c2.x\n        vy = c1.y - c2.y\n        combinedHalfWidths = c1.width*.5 + c2.width*.5;\n        combinedHalfHeights = c1.height*.5 + c2.height*.5;\n\n        if (Math.abs(vx) < combinedHalfWidths && Math.abs(vy) < combinedHalfHeights) {\n            hit = true;\n        } else {\n            hit = false;\n        }\n        return hit;\n    }\n}\n\nexport default App\n\n\n// WEBPACK FOOTER //\n// ./src/pages/game/fallGame/main.ts","class Food extends PIXI.Graphics{\n    private static SCREEN_WIDTH = document.documentElement.clientWidth\n    private static SCREEN_HEIGHT = document.documentElement.clientHeight\n\n    public vy: number = Math.random() * 3 + 1\n    public score: number = 0\n    constructor(){\n        super()   \n        this.init()\n    }\n    init () {\n        this.beginFill(0xffffff * Math.random())\n        this.drawCircle(0, 0, 10)\n        this.endFill()\n        this.x = Food.SCREEN_WIDTH * Math.random()\n        this.y = -Food.SCREEN_HEIGHT * Math.random()\n        this.score = Math.round(Math.random() * 10)\n    }\n    update(){\n        this.y += this.vy\n    }\n}\nexport default Food\n\n\n// WEBPACK FOOTER //\n// ./src/pages/game/fallGame/Food.ts"],"sourceRoot":""}