{"version":3,"sources":["webpack:///./src/pages/game/nodeAni/main.ts","webpack:///./src/pages/game/nodeAni/Circle.ts"],"names":[],"mappings":"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","file":"static/js/0.6dfddbce1eb05833a6c3.js","sourcesContent":["import Circle from './Circle'\nclass App{\n    private static NUM = 35\n    private static SCREEN_WIDTH = document.documentElement.clientWidth\n    private static SCREEN_HEIGHT = document.documentElement.clientHeight\n    private static minDist = 100\n    private static springAmount = 0.001\n\n    private renderer: PIXI.WebGLRenderer | PIXI.CanvasRenderer\n    private stage: PIXI.Container\n    private arrs: Circle[] = []\n    private lineGraph: PIXI.Graphics\n    constructor () {\n        // this.renderer = PIXI.autoDetectRenderer(App.SCREEN_WIDTH, App.SCREEN_HEIGHT, \n        // {\n        //     antialias: true, \n        //     transparent: false, \n        //     resolution: 1\n        // });\n        this.renderer = new PIXI.CanvasRenderer(App.SCREEN_WIDTH, App.SCREEN_HEIGHT, \n        {\n            antialias: true, \n            transparent: false, \n            resolution: 1\n        })\n        let gameArea: any = document.querySelector('.game-area')\n        gameArea.appendChild(this.renderer.view)\n        this.stage = new PIXI.Container();\n\n        this.lineGraph = new PIXI.Graphics()\n        this.stage.addChild(this.lineGraph)\n        this.creatCircles()\n\n        this.enterFrame()\n    }\n    creatCircles(){\n        let circle\n        let filter = new PIXI.filters.BlurFilter()\n        filter.blur = 3\n        for(let i = 0; i < App.NUM; i++){\n            circle = new Circle(Math.random() * this.renderer.width, Math.random() * this.renderer.height, 5)\n            circle.filters = [filter]\n            this.arrs.push(circle)\n            this.stage.addChild(circle)\n        }\n    }\n    enterFrame () {\n        requestAnimationFrame(this.enterFrame.bind(this));\n        let i\n        let j\n        for(i = 0; i < App.NUM; i++){\n            // if(this.arrs[i].vx>9) this.arrs[i].vx = 9\n            // if(this.arrs[i].vx<-9) this.arrs[i].vx = -9\n            // if(this.arrs[i].vy>9) this.arrs[i].vy = 9\n            // if(this.arrs[i].vy<-9) this.arrs[i].vy = -9\n            this.arrs[i].update()\n        }\n        this.lineGraph.clear()\n        for(i = 0; i < App.NUM-1; i++){\n            for(let j = i + 1; j < App.NUM; j++){\n                this.connectCircle(this.arrs[i], this.arrs[j])\n            }\n        }\n        this.renderer.render(this.stage);\n    }\n    connectCircle(c1:Circle, c2:Circle){\n        let dx = c1.x - c2.x;\n        let dy = c1.y - c2.y;\n        let dist = Math.sqrt(dx*dx + dy*dy);\n        \n        //If the distance between 2 nodes are smaller than minimum, connect them\n        if (dist < App.minDist) {\n            this.lineGraph.lineStyle(1, 0xFFFFFF, dist/App.minDist);\n            this.lineGraph.moveTo(c1.x, c1.y);\n            this.lineGraph.lineTo(c2.x, c2.y);\n            var ax = dx * App.springAmount;\n            var ay = dy * App.springAmount;\n            // 控制相吸\n            c2.vx += ax;\n            c2.vy += ay;\n            c1.vx -= ax;\n            c1.vy -= ay;\n            // 控制相斥\n            // c2.vx -= ax;\n            // c2.vy -= ay;\n            // c1.vx += ax;\n            // c1.vy += ay;\n        }\n    }\n}\n\nexport default App\n\n\n// WEBPACK FOOTER //\n// ./src/pages/game/nodeAni/main.ts","class Circle extends PIXI.Graphics{\n    public vx:number = Math.random()*6-3\n    public vy:number = Math.random()*6-3\n    private static SCREEN_WIDTH = document.documentElement.clientWidth\n    private static SCREEN_HEIGHT = document.documentElement.clientHeight\n    constructor(x: number, y: number, radius: number){\n        super()\n        this.beginFill(0xffffff * Math.random());\n        this.drawCircle(0, 0, radius);\n        this.endFill();\n        this.x = x;\n        this.y = y;\n    }\n    update(){\n        this.x += this.vx\n        this.y += this.vy\n\n        if (this.x > Circle.SCREEN_WIDTH) {\n            this.x = 0;\n        } else if (this.x < 0) {\n            this.x = Circle.SCREEN_WIDTH;\n        }\n        if (this.y > Circle.SCREEN_HEIGHT) {\n            this.y = 0;\n        } else if (this.y < 0) {\n            this.y = Circle.SCREEN_HEIGHT;\n        }\n        // if (this.x > Circle.SCREEN_WIDTH) {\n        //     this.vx = -Math.abs(this.vx)\n        // } else if (this.x < 0) {\n        //     this.vx = Math.abs(this.vx)\n        // }\n        // if (this.y > Circle.SCREEN_HEIGHT) {\n        //     this.vy = -Math.abs(this.vy)\n        // } else if (this.y < 0) {\n        //     this.vy = Math.abs(this.vy)\n        // }\n    }\n}\n\nexport default Circle\n\n\n// WEBPACK FOOTER //\n// ./src/pages/game/nodeAni/Circle.ts"],"sourceRoot":""}